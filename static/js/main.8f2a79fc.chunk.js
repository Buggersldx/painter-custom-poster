(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(t,e,a){t.exports=a(290)},139:function(t,e,a){},145:function(t,e){},146:function(t,e){},147:function(t,e){},148:function(t,e,a){},290:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),c=a(3),o=a.n(c);a(139),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,s,d=a(15),l=a(23),h=a.n(l),u=a(49),p=a(16),g=a(120),b=a(121),f=a(132),v=a(122),m=a(26),w=a(131),x=a(123),y=a(124),S=a.n(y),O=a(24),k=a.n(O),j=a(125),C=a.n(j),E=[{type:"canvas",css:{width:"654",height:"1000",backgroundColor:"#f8f8f8"}},{type:"text",name:"\u6587\u5b57",css:{text:" \u6211\u662f\u6765\u6d4b\u8bd5\u7684,\u8bf7\u4f60\u4e0d\u8981\u6253\u6b7b\u6211",width:200,lineHeight:1.5,color:"red",top:0,left:100,background:"rgba(0,0,0,0)",fontSize:30,fontWeight:["normal","bold"],maxLines:2,textStyle:["fill","stroke"],textAlign:["left","center","right"],textDecoration:["none","overline","underline","linethrough"],borderRadius:1,borderWidth:1,borderColor:"#000000",padding:0,rotate:0,shadow:"10 10 5 #888888",fontFamily:""}},{type:"rect",name:"\u77e9\u5f62",css:{background:"#ffffff",top:300,left:100,width:500,height:100,rotate:0,borderRadius:50,borderWidth:2,borderColor:"#000000",shadow:"10 10 5 #888888"}},{type:"image",name:"\u56fe\u7247",css:{url:"https://operate.maiyariji.com/20190709%2F3da002983292a6950a71ca7392a21827.jpg",mode:["scaleToFill","aspectFill","auto"],top:100,left:100,width:100,height:100,rotate:0,borderRadius:50,borderWidth:2,borderColor:"#000000",shadow:""}},{type:"qrcode",name:"\u4e8c\u7ef4\u7801",css:{url:"\u54c8\u54c8\u54c8",color:"#000000",background:"#ffffff",top:100,left:100,width:200,rotate:0}}],R=(a(148),a(292)),W=a(296),A=a(32),B=a(293),I=a(8),D=a(295),N=a(294),Y=a(126),F=a.n(Y),X=a(97),_=a(127),L=a.n(_),U=a(234);var z=R.a.Option;fabric=S.a.fabric,W.a.config({maxCount:1});var H=2,M={canvasState:[],currentStateIndex:-1,undoStatus:!1,redoStatus:!1,undoFinishedStatus:1,redoFinishedStatus:1},P=k.a.cloneDeep(E);P[1].css.textStyle=P[1].css.textStyle[0],P[1].css.textAlign=P[1].css.textAlign[0],P[1].css.fontWeight=P[1].css.fontWeight[0],P[1].css.textDecoration=P[1].css.textDecoration[0],P[3].css.mode=P[3].css.mode[0];var q=(i=Object(X.b)(X.a),s=function(t){function e(t){var a;return Object(g.a)(this,e),(a=Object(f.a)(this,Object(v.a)(e).call(this,t))).showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a.handleSubmit=function(t){t.preventDefault(),a.props.form.validateFields(function(t,e){t||console.log("Received values of form: ",e)})},a.addShape=a.addShape.bind(Object(m.a)(a)),a.generateCode=a.generateCode.bind(Object(m.a)(a)),a.copyCode=a.copyCode.bind(Object(m.a)(a)),a.viewCode=a.viewCode.bind(Object(m.a)(a)),a.handerUndo=a.handerUndo.bind(Object(m.a)(a)),a.handerRedo=a.handerRedo.bind(Object(m.a)(a)),a.handerEditObject=a.handerEditObject.bind(Object(m.a)(a)),a.state={redoButtonStatus:"",undoButtonStatus:"",activeObjectOptions:{},currentOptionArr:P},a.currentOptionArr=P,a.views=[],a.canvas_sprite="",a.height=300,a.width=0,a.activeObject={},a}return Object(w.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){this.canvas_sprite=new fabric.Canvas("merge",this.state.currentOptionArr[0].css);var t=this,e=k.a.throttle(function(e){var a=e.target,n=a.top,r=a.left,c=k.a.cloneDeep(t.state.currentOptionArr);c.forEach(function(t){t.css=Object(p.a)({},t.css,{top:""+n,left:""+r})}),t.setState({currentOptionArr:c})},100);this.canvas_sprite.on("object:moving",function(t){var a=t.target;a.currentHeight>a.canvas.height||a.currentWidth>a.canvas.width||(a.setCoords(),(a.getBoundingRect().top<0||a.getBoundingRect().left<0)&&(a.top=Math.max(a.top,a.top-a.getBoundingRect().top),a.left=Math.max(a.left,a.left-a.getBoundingRect().left)),(a.getBoundingRect().top+a.getBoundingRect().height>a.canvas.height||a.getBoundingRect().left+a.getBoundingRect().width>a.canvas.width)&&(a.top=Math.min(a.top,a.canvas.height-a.getBoundingRect().height+a.top-a.getBoundingRect().top),a.left=Math.min(a.left,a.canvas.width-a.getBoundingRect().width+a.left-a.getBoundingRect().left)),e(t))}),this.canvas_sprite.on("object:scaling",function(t){var a=t.target;a.currentHeight>a.canvas.height||a.currentWidth>a.canvas.width||(a.setCoords(),(a.getBoundingRect().top<0||a.getBoundingRect().left<0)&&(a.top=Math.max(a.top,a.top-a.getBoundingRect().top),a.left=Math.max(a.left,a.left-a.getBoundingRect().left)),(a.getBoundingRect().top+a.getBoundingRect().height>a.canvas.height||a.getBoundingRect().left+a.getBoundingRect().width>a.canvas.width)&&(a.top=Math.min(a.top,a.canvas.height-a.getBoundingRect().height+a.top-a.getBoundingRect().top),a.left=Math.min(a.left,a.canvas.width-a.getBoundingRect().width+a.left-a.getBoundingRect().left)),e(t))}),this.canvas_sprite.on("mouse:down",function(e){e.target&&(t.activeObject=e.target,console.log("\u6709\u5bf9\u8c61\u88ab\u70b9\u51fb\u54af! ",e.target.type),t.handerEditObject())}),this.canvas_sprite.on("object:modified",function(){t.updateCanvasState()}),this.canvas_sprite.on("object:added",function(){t.updateCanvasState()}),this.addShape(1),this.addShape(2),this.addShape(3)}},{key:"beginEdit",value:function(t){this.activeObject&&(37===t.which?(t.preventDefault(),this.activeObject.set({left:this.activeObject.left-1})):39===t.which?(t.preventDefault(),this.activeObject.set({left:this.activeObject.left+1})):40===t.which?(t.preventDefault(),this.activeObject.set({top:this.activeObject.top+1})):38===t.which?(t.preventDefault(),this.activeObject.set({top:this.activeObject.top-1})):90===t.which?(t.preventDefault(),this.handerUndo()):89===t.which?(t.preventDefault(),this.handerRedo()):46===t.which&&(t.preventDefault(),this.canvas_sprite.remove(this.activeObject)),this.canvas_sprite.renderAll())}},{key:"addShape",value:function(){var t=Object(u.a)(h.a.mark(function t(e){var a,n,r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=this.state.currentOptionArr,n=a[e].type,t.t0=n,t.next="text"===t.t0?5:"rect"===t.t0?9:"image"===t.t0?13:"qrcode"===t.t0?17:21;break;case 5:return t.next=7,this.addTextObject(e);case 7:return r=t.sent,t.abrupt("break",22);case 9:return t.next=11,this.addRectObject(e);case 11:return r=t.sent,t.abrupt("break",22);case 13:return t.next=15,this.addImageObject(e);case 15:return r=t.sent,t.abrupt("break",22);case 17:return t.next=19,this.addQrcodeObject(e);case 19:return r=t.sent,t.abrupt("break",22);case 21:return t.abrupt("break",22);case 22:this.canvas_sprite.setActiveObject(r),this.activeObject=r,this.canvas_sprite.add(r);case 25:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"addTextObject",value:function(){var t=Object(u.a)(h.a.mark(function t(e){var a,n,r,c,o,i,s,l,u,g,b,f,v,m,w,x,y,S,O,k,j,C,E,R,W,A,B,I,D,N,Y,F;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this,r=this.state.currentOptionArr,c=r[e].css,o=c.width,i=c.text,s=c.color,l=c.fontSize,u=c.left,g=c.top,b=c.fontWeight,f=c.fontFamily,v=c.padding,m=c.textDecoration,w=c.borderRadius,x=c.borderWidth,y=c.borderColor,S=c.rotate,O=c.shadow,k=c.lineHeight,j=c.textAlign,C=c.maxLines,E=c.textStyle,R=c.background,w/=1,x/=1,S/=1,C/=1,k/=1.08,a={width:(o/=1)/1,fill:s,fontWeight:b,left:u/=1,top:g/=1,fontSize:(l/=1)/1,fontFamily:f,padding:(v/=1)/1},Object(d.a)(a,m,!0),Object(d.a)(a,"textAlign",j),Object(d.a)(a,"textStyle",E),Object(d.a)(a,"shadow",O),Object(d.a)(a,"angle",S/1),Object(d.a)(a,"splitByGrapheme",!0),Object(d.a)(a,"zIndex",2),Object(d.a)(a,"lineHeight",k),Object(d.a)(a,"editable",!0),Object(d.a)(a,"maxLines",C/1),Object(d.a)(a,"textDecoration",m),Object(d.a)(a,"lockScalingY",!0),A=a,"stroke"===E&&(A=Object(p.a)({},A,{stroke:s,fill:"rgba(0,0,0)"})),(B=new fabric.Textbox(i,A)).textLines.length>C){for(I="",D=0;D<C;D++)N=B.textLines[D],D===C-1?I=I+N+"..":I+=N;B.set({text:I})}return Y=B.height/1+(B.lineHeight/1-1)*B.fontSize+2*v,o=B.width+2*v,u=B.left-v,g=c.top-v,F=new fabric.Rect({width:o,height:Y,left:u,top:g,padding:v/1,rx:w/1,strokeWidth:x/1,stroke:y,fill:R,angle:S,shadow:O,selectable:!1}),(W=new fabric.Group([F,B],{width:o,height:Y,left:u,top:g,angle:S,mytype:"textGroup"})).on("scaling",function(t){var e=this.width,a=this.height,r=this.width*this.scaleX,c=this.height*this.scaleY;F.set({left:-(r-e/2),top:-(c-a/2),height:c,width:r,rx:w,strokeWidth:x}),B.set({left:-(r-e/2),top:-(c-a/2),width:e,height:a,fontSize:l,scaleX:1,scaleY:1}),this.set({height:c,width:r,scaleX:1,scaleY:1,originX:"left"}),n.canvas_sprite.renderAll()}),t.abrupt("return",W);case 26:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"addRectObject",value:function(){var t=Object(u.a)(h.a.mark(function t(e){var a,n,r,c,o,i,s,d,l,u,p,g,b;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.state.currentOptionArr,n=a[e].css,r=n.width,c=n.height,o=n.left,i=n.top,s=n.borderRadius,d=n.borderWidth,l=n.borderColor,u=n.background,p=n.rotate,g=n.shadow,r/=1,c/=1,o/=1,i/=1,s/=1,d/=1,p/=1,b=new fabric.Rect({width:r,height:c,left:o,top:i,rx:s,strokeWidth:d,stroke:l,fill:u,rotate:p,shadow:g,mytype:"rect"}),t.abrupt("return",b);case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"addImageObject",value:function(){var t=Object(u.a)(h.a.mark(function t(e){var a,n,r,c,o,i,s,d,l,u,p,g,b,f,v,m,w;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.state.currentOptionArr,n=a[e].css,r=n.width,c=n.height,o=n.left,i=n.top,s=n.borderRadius,d=n.borderWidth,l=n.borderColor,u=n.background,p=n.rotate,g=n.shadow,b=n.mode,f=n.url,r/=1,c/=1,o/=1,i/=1,s/=1,d/=1,p/=1,t.next=12,this.loadImageUrl(f);case 12:return v=t.sent,m=v.width,w=v.height,v.set({url:f,left:o/1,top:i/1,rx:s/1,ry:s/1,strokeWidth:d/1,stroke:l,backgroundColor:u,angle:p/1,mode:b,shadow:g,mytype:"image"}),"scaleToFill"===b?(v.set({width:m,height:w,scaleX:r/m,scaleY:c/w,oldScaleX:r/m,oldScaleY:c/w}),v.clipPath=new fabric.Rect({width:r,height:c,originX:"center",originY:"center",rx:s,angle:p/1,scaleX:m/r,scaleY:w/c})):"auto"===b?(v.set({width:m,height:w,scaleX:r/m,scaleY:r/m,oldScaleX:r/m,oldScaleY:c/w}),v.clipPath=new fabric.Rect({width:r,height:c,originX:"center",originY:"center",rx:s,angle:p/1,scaleX:m/r,scaleY:w/c})):"aspectFill"===b&&(v.clipPath=new fabric.Rect({width:r/1,height:c/1,originX:"center",originY:"center",rx:s/1,angle:p/1}),v.set({width:r,height:c})),t.abrupt("return",v);case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"addQrcodeObject",value:function(){var t=Object(u.a)(h.a.mark(function t(e){var a,n,r,c,o,i,s,d,l,u,p;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.state.currentOptionArr,n=a[e].css,r=n.width,c=n.left,o=n.top,i=n.color,s=n.background,d=n.rotate,l=n.url,r/=1,c/=1,o/=1,d/=1,u=C.a.getQrBase64(l,{padding:0,width:r/1,height:r/1,correctLevel:H,reverse:!1,background:s,foreground:i}),t.next=10,this.loadImageUrl(u);case 10:return(p=t.sent).set({url:l,width:r/1,height:r/1,left:c/1,top:o/1,angle:d/1,lockUniScaling:!0,mytype:"qrcode"}),t.abrupt("return",p);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"loadImageUrl",value:function(t){return new Promise(function(e){fabric.Image.fromURL(t,function(t){e(t)})})}},{key:"updateObject",value:function(){switch(this.activeObject.mytype){case"textGroup":this.canvas_sprite.remove(this.activeObject),this.addShape(1);break;case"rect":this.updateRectObject(2);break;case"image":this.updateImageObject(3);break;case"qrcode":this.updateQrcodeObject(4)}this.canvas_sprite.renderAll()}},{key:"updateRectObject",value:function(t){var e=this.state.currentOptionArr[2].css,a=e.width,n=e.height,r=e.left,c=e.top,o=e.borderRadius,i=e.borderWidth,s=e.borderColor,d=e.background,l=e.rotate,h=e.shadow;a/=1,n/=1,r/=1,c/=1,o/=1,i/=1,l/=1,this.activeObject.set({width:a,height:n,left:r,top:c,rx:o,strokeWidth:i,stroke:s,fill:d,rotate:l,shadow:h,mytype:"rect"})}},{key:"updateImageObject",value:function(t){var e=this.state.currentOptionArr[t].css,a=e.width,n=e.height,r=e.left,c=e.top,o=e.borderRadius,i=e.borderWidth,s=e.borderColor,d=e.background,l=e.rotate,h=e.shadow,u=e.mode,p=e.url;a/=1,n/=1,r/=1,c/=1,o/=1,i/=1,l/=1;var g=this.activeObject,b=g.width,f=g.height;g.set({url:p,left:r/1,top:c/1,rx:o/1,ry:o/1,strokeWidth:i/1,stroke:s,backgroundColor:d,angle:l/1,mode:u,shadow:h,mytype:"image"}),"scaleToFill"===u?(g.set({width:b,height:f,scaleX:a/b,scaleY:n/f,oldScaleX:a/b,oldScaleY:n/f}),g.clipPath=new fabric.Rect({width:a,height:n,originX:"center",originY:"center",rx:o,angle:l/1,scaleX:b/a,scaleY:f/n})):"auto"===u?(g.set({width:b,height:f,scaleX:a/b,scaleY:a/b,oldScaleX:a/b,oldScaleY:n/f}),g.clipPath=new fabric.Rect({width:a,height:n,originX:"center",originY:"center",rx:o,angle:l/1,scaleX:b/a,scaleY:f/n})):"aspectFill"===u&&(g.clipPath=new fabric.Rect({width:a/1,height:n/1,originX:"center",originY:"center",rx:o/1,angle:l/1}),g.set({width:a,height:n}))}},{key:"updateQrcodeObject",value:function(t){var e=this.state.currentOptionArr[t].css,a=e.width,n=e.left,r=e.top,c=e.rotate,o=e.url;a/=1,n/=1,r/=1,c/=1,this.activeObject.set({url:o,width:a/1,height:a/1,left:n/1,top:r/1,angle:c/1,lockUniScaling:!0,mytype:"qrcode"})}},{key:"clearCanvas",value:function(){this.rects.forEach(function(t,e){t.remove()}),this.texts.forEach(function(t,e){t.remove()})}},{key:"generateCode",value:function(){var t=this,e=this.canvas_sprite;this.views=[],e.getObjects().forEach(function(e,a){var n={},r=e.oldScaleY||1,c={color:"".concat(e.color),background:"".concat(e.fill),width:"".concat(e.width*e.scaleX,"px"),height:"".concat(e.height*e.scaleY,"px"),top:"".concat(e.top,"px"),left:"".concat(e.left,"px"),rotate:"".concat(e.angle),borderRadius:"".concat(e.rx*(e.scaleY/r),"px"),borderWidth:"".concat(e.strokeWidth,"px"),borderColor:"".concat(e.stroke),shadow:"".concat(e.shadow)},o=e.mytype;"image"===o?(delete c.color,delete c.background,n={type:o,url:"".concat(e.url),css:Object(p.a)({},c,{mode:"".concat(e.mode)})}):"qrcode"===o?(delete c.color,delete c.background,delete c.borderRadius,delete c.borderWidth,delete c.borderColor,delete c.shadow,n={type:o,content:"".concat(e.url),css:Object(p.a)({},c)}):"textGroup"===o?e._objects.forEach(function(t){n="rect"===t.type?Object(p.a)({},n,{type:"text",css:Object(p.a)({},c,n.css,{left:"".concat(e.left+t.padding,"px"),top:"".concat(e.top+t.padding+t.strokeWidth,"px"),color:"".concat(t.backgroundColor),borderRadius:"".concat(t.rx,"px"),borderWidth:"".concat(t.strokeWidth,"px"),borderColor:"".concat(t.stroke)})}):Object(p.a)({},n,{type:"text",text:"".concat(t.text),css:Object(p.a)({},c,n.css,{width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),color:t.fill,padding:"".concat(t.padding,"px"),fontSize:"".concat(t.fontSize,"px"),fontWeight:"".concat(t.fontWeight),maxLines:"".concat(t.maxLines),lineHeight:"".concat(1.08*t.lineHeight*t.fontSize,"px"),textStyle:"".concat(t.textStyle),textDecoration:"".concat("linethrough"===t.textDecoration?"line-through":t.textDecoration),fontFamily:"".concat(t.fontFamily),textAlign:"".concat(t.textAlign),shadow:"".concat(t.shadow)})})}):"rect"===o&&(delete c.color,0===e.strokeWidth&&(delete c.borderWidth,delete c.borderColor),n={type:o,css:Object(p.a)({},c,{color:e.fill})}),t.views.push(n)}),this.finallObj={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),background:e.backgroundColor,views:this.views},this.miniCode="\n    export default class LastMayday {\n      palette() {\n        return (\n".concat(U.plain(this.finallObj).replace(/px/g,"px"),"\n        );\n      }\n    }\n    "),console.log("finallObj",U.plain(this.finallObj).replace(/px/g,"rpx"))}},{key:"copyCode",value:function(){this.generateCode(),F()(this.miniCode)?W.a.success("\u590d\u5236\u6210\u529f,\u8bf7\u8d76\u5feb\u53bbpainter\u7c98\u8d34\u4ee3\u7801\u67e5\u770b\u6548\u679c",2):W.a.error("\u590d\u5236\u5931\u8d25,\u8bf7\u91cd\u8bd5\u6216\u8005\u53bb\u8c37\u6b4c\u6d4f\u89c8\u5668\u5c1d\u8bd5",2)}},{key:"viewCode",value:function(){this.generateCode(),this.setState({visibleCode:!0})}},{key:"updateCanvasState",value:function(){var t=this.canvas_sprite;if(!1===M.undoStatus&&!1===M.redoStatus){var e=t.toJSON(),a=JSON.stringify(e);if(M.currentStateIndex<M.canvasState.length-1){var n=M.currentStateIndex+1;M.canvasState[n]=a;var r=n+1;M.canvasState=M.canvasState.splice(0,r)}else M.canvasState.push(a);M.currentStateIndex=M.canvasState.length-1,M.currentStateIndex===M.canvasState.length-1&&-1!==M.currentStateIndex&&this.setState({redoButtonStatus:"disabled"})}}},{key:"handerUndo",value:function(){var t=this,e=this.canvas_sprite;M.undoFinishedStatus&&(-1===M.currentStateIndex?M.undoStatus=!1:M.canvasState.length>=1&&(M.undoFinishedStatus=0,0!==M.currentStateIndex?(M.undoStatus=!0,e.loadFromJSON(M.canvasState[M.currentStateIndex-1],function(){e.renderAll(),M.undoStatus=!1,M.currentStateIndex-=1,t.setState({undoButtonStatus:""}),M.currentStateIndex!==M.canvasState.length-1&&t.setState({redoButtonStatus:""}),M.undoFinishedStatus=1})):0===M.currentStateIndex&&(e.clear(),M.undoFinishedStatus=1,t.setState({redoButtonStatus:"",undoButtonStatus:"disabled"}),M.currentStateIndex-=1)))}},{key:"handerRedo",value:function(){var t=this,e=this.canvas_sprite;M.redoFinishedStatus&&(M.currentStateIndex===M.canvasState.length-1&&-1!==M.currentStateIndex?t.setState({redoButtonStatus:"disabled"}):M.canvasState.length>M.currentStateIndex&&0!==M.canvasState.length&&(M.redoFinishedStatus=0,M.redoStatus=!0,e.loadFromJSON(M.canvasState[M.currentStateIndex+1],function(){e.renderAll(),M.redoStatus=!1,M.currentStateIndex+=1,-1!==M.currentStateIndex&&t.setState({undoButtonStatus:""}),M.redoFinishedStatus=1,M.currentStateIndex===M.canvasState.length-1&&-1!==M.currentStateIndex&&t.setState({redoButtonStatus:"disabled"})})))}},{key:"handerEditObject",value:function(){this.showDrawer();var t=this.activeObject.mytype,e=this.activeObject,a=e.oldScaleY||1,n={color:"".concat(e.color),background:"".concat(e.fill),width:"".concat(e.width*e.scaleX),height:"".concat(e.height*e.scaleY),top:"".concat(e.top),left:"".concat(e.left),rotate:"".concat(e.angle),borderRadius:"".concat(e.rx*(e.scaleY/a)),borderWidth:"".concat(e.strokeWidth),borderColor:"".concat(e.stroke),shadow:"".concat(e.shadow)},r="";switch(t){case"textGroup":r=1,e._objects.forEach(function(t){n="rect"===t.type?Object(p.a)({},n,{background:"".concat(t.backgroundColor),borderRadius:"".concat(t.rx),borderWidth:"".concat(t.strokeWidth),borderColor:"".concat(t.stroke)}):Object(p.a)({},n,{background:"".concat(t.backgroundColor),borderRadius:"".concat(t.rx),borderWidth:"".concat(t.strokeWidth),borderColor:"".concat(t.stroke),color:t.fill,padding:"".concat(t.padding),fontSize:"".concat(t.fontSize),fontWeight:"".concat(t.fontWeight),maxLines:"".concat(t.maxLines),lineHeight:"".concat(t.lineHeight),textStyle:"".concat(t.textStyle),textDecoration:"".concat("linethrough"===t.textDecoration?"line-through":t.textDecoration),fontFamily:"".concat(t.fontFamily),textAlign:"".concat(t.textAlign),shadow:"".concat(t.shadow)})});break;case"rect":r=2,delete n.color,n=Object(p.a)({},n);break;case"image":r=3,delete n.color,delete n.background,n=Object(p.a)({url:e.url},n,{mode:"".concat(e.mode)});break;case"qrcode":r=4,delete n.color,delete n.background,delete n.borderRadius,delete n.borderWidth,delete n.borderColor,delete n.shadow,n=Object(p.a)({url:e.url},n)}var c=k.a.cloneDeep(this.state.currentOptionArr);c[r].css=n,this.setState({currentOptionArr:c})}},{key:"render",value:function(){var t=this,e=this.state,a=e.visible,n=e.visibleCode,c=e.currentOptionArr;return r.a.createElement("div",{id:"main"},r.a.createElement("div",{className:"slide"},r.a.createElement("canvas",{id:"merge",width:"700",height:"1000"})),r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"btns"},r.a.createElement("div",{className:"btn"},r.a.createElement(A.a,{type:"primary",onClick:this.handerUndo},"Undo")),r.a.createElement("div",{className:"btn"},r.a.createElement(A.a,{type:"primary",onClick:this.handerRedo},"Redo")),r.a.createElement("div",{className:"btn"},r.a.createElement(A.a,{type:"primary",onClick:this.handerEditObject},"\u7f16\u8f91\u5bf9\u8c61")),r.a.createElement("div",{className:"btn"},r.a.createElement(A.a,{type:"primary",onClick:this.copyCode},"\u590d\u5236\u4ee3\u7801")),r.a.createElement("div",{className:"btn"},r.a.createElement(A.a,{type:"primary",onClick:this.viewCode},"\u67e5\u770b\u4ee3\u7801"))),r.a.createElement("div",{className:"code"})),r.a.createElement("div",{className:"option"},E.map(function(e,a){return 0===a?null:r.a.createElement("div",{key:a,className:"option-li"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"h3"},e.name," "),r.a.createElement("div",{className:"btn"},r.a.createElement(A.a,{type:"primary",onClick:t.addShape.bind(t,a)},"\u6dfb\u52a0"))),Object.keys(e.css).map(function(t,n){return r.a.createElement("div",{className:"row",key:n},r.a.createElement("div",{className:"h3"},t," "),!k.a.isArray(e.css[t])&&r.a.createElement(B.a,{defaultValue:e.css[t],onChange:function(e){c[a].css[t]=e.target.value}}),k.a.isArray(e.css[t])&&r.a.createElement(R.a,{defaultValue:e.css[t][0],style:{width:120},onChange:function(e){c[a].css[t]=e}},e.css[t].map(function(t,e){return r.a.createElement(z,{value:t,key:e},t)})))}))}))),r.a.createElement("div",{className:"edit-modal"},r.a.createElement("div",null,r.a.createElement(A.a,{type:"primary",onClick:this.showDrawer},r.a.createElement(I.a,{type:"plus"})," New account"),r.a.createElement(D.a,{title:"\u7f16\u8f91\u5bf9\u8c61",width:400,onClose:this.onClose,visible:a,mask:!1},c.map(function(e,a){var n=t.activeObject.mytype;if("textGroup"===n&&(n="text"),console.log("this.activeObject.mytype",t.activeObject.mytype),e.type===n)return r.a.createElement("div",{key:a,className:"option-li"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"h3"},e.name," ")),Object.keys(e.css).map(function(n,c){return r.a.createElement("div",{className:"row",key:c},r.a.createElement("div",{className:"h3"},n," "),!k.a.isArray(E[a].css[n])&&r.a.createElement(B.a,{defaultValue:e.css[n],value:e.css[n],onChange:function(e){var r=k.a.cloneDeep(t.state.currentOptionArr);r[a].css[n]=e.target.value,t.setState({currentOptionArr:r}),t.updateObject()}}),k.a.isArray(E[a].css[n])&&r.a.createElement(R.a,{defaultValue:e.css[n],value:e.css[n],style:{width:120},onChange:function(e){var r=k.a.cloneDeep(t.state.currentOptionArr);r[a].css[n]=e,t.setState({currentOptionArr:r}),t.updateObject()}},E[a].css[n].map(function(t,e){return r.a.createElement(z,{value:t,key:e},t)})))}))})))),r.a.createElement(N.a,{title:"view code",visible:n,onCancel:function(){t.setState({visibleCode:!1})},footer:[r.a.createElement(A.a,{key:"submit",type:"primary",onClick:this.copyCode},"\u590d\u5236\u4ee3\u7801")]},r.a.createElement(L.a,{source:"```\n".concat(this.miniCode,"\n          ")})))}}]),e}(r.a.Component),Object(x.a)(s.prototype,"beginEdit",[i],Object.getOwnPropertyDescriptor(s.prototype,"beginEdit"),s.prototype),s);o.a.render(r.a.createElement("div",null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[134,1,2]]]);
//# sourceMappingURL=main.8f2a79fc.chunk.js.map